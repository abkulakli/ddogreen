{
    "version": 6,
    "configurePresets": [
        {
            "name": "debug",
            "displayName": "Configure: Debug",
            "description": "Debug build with unit tests enabled",
            "binaryDir": "${sourceDir}/build/debug",
            "generator": "Ninja",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "BUILD_TESTS": "ON"
            }
        },
        {
            "name": "release",
            "displayName": "Configure: Release",
            "description": "Release build with unit tests enabled",
            "binaryDir": "${sourceDir}/build/release",
            "generator": "Ninja",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "BUILD_TESTS": "ON"
            }
        },
        {
            "name": "coverage",
            "displayName": "Configure: Coverage",
            "description": "Debug build with coverage analysis enabled",
            "binaryDir": "${sourceDir}/build/coverage",
            "generator": "Ninja",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "BUILD_TESTS": "ON",
                "BUILD_WITH_COVERAGE": "ON"
            }
        },
        {
            "name": "debug-no-ccache",
            "displayName": "Configure: Debug (No ccache)",
            "description": "Debug build without ccache for clean builds",
            "binaryDir": "${sourceDir}/build/debug-no-ccache",
            "generator": "Ninja",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "BUILD_TESTS": "ON",
                "CMAKE_DISABLE_FIND_PACKAGE_ccache": "ON"
            }
        },
        {
            "name": "static-analysis",
            "displayName": "Configure: Static Analysis",
            "description": "Debug build with static analysis enabled (clang-tidy, cppcheck)",
            "binaryDir": "${sourceDir}/build/static-analysis",
            "generator": "Ninja",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "BUILD_TESTS": "ON",
                "ENABLE_STATIC_ANALYSIS": "ON"
            }
        }
    ],
    "buildPresets": [
        {
            "name": "debug",
            "displayName": "Build: Debug",
            "configurePreset": "debug",
            "jobs": 0
        },
        {
            "name": "release",
            "displayName": "Build: Release",
            "configurePreset": "release",
            "jobs": 0
        },
        {
            "name": "coverage",
            "displayName": "Build: Coverage",
            "configurePreset": "coverage",
            "jobs": 0
        },
        {
            "name": "debug-no-ccache",
            "displayName": "Build: Debug (No ccache)",
            "configurePreset": "debug-no-ccache",
            "jobs": 0
        },
        {
            "name": "static-analysis",
            "displayName": "Build: Static Analysis",
            "configurePreset": "static-analysis",
            "jobs": 0
        }
    ],
    "testPresets": [
        {
            "name": "debug-tests",
            "displayName": "Test: Debug Tests",
            "configurePreset": "debug",
            "output": {
                "outputOnFailure": true
            }
        },
        {
            "name": "release-tests",
            "displayName": "Test: Release Tests",
            "configurePreset": "release",
            "output": {
                "outputOnFailure": true
            }
        },
        {
            "name": "coverage-tests",
            "displayName": "Test: Coverage Tests",
            "configurePreset": "coverage",
            "output": {
                "outputOnFailure": true
            }
        }
    ],
    "packagePresets": [
        {
            "name": "linux-debug-packages",
            "displayName": "Package: Linux Debug Packages",
            "configurePreset": "debug",
            "generators": ["DEB", "RPM", "TGZ"],
            "packageDirectory": "packages"
        },
        {
            "name": "linux-release-packages", 
            "displayName": "Package: Linux Release Packages",
            "configurePreset": "release",
            "generators": ["DEB", "RPM", "TGZ"],
            "packageDirectory": "packages"
        },
        {
            "name": "windows-debug-packages",
            "displayName": "Package: Windows Debug Packages",
            "configurePreset": "debug",
            "generators": ["ZIP"],
            "packageDirectory": "packages"
        },
        {
            "name": "windows-release-packages",
            "displayName": "Package: Windows Release Packages", 
            "configurePreset": "release",
            "generators": ["ZIP"],
            "packageDirectory": "packages"
        }
    ]
}
